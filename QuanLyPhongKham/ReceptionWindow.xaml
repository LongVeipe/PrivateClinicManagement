<Window x:Class="QuanLyPhongKham.RececptionWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:QuanLyPhongKham"
        mc:Ignorable="d"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
        xmlns:uc="clr-namespace:QuanLyPhongKham.UC"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        DataContext="{StaticResource ReceptionVM}" 
     TextElement.FontWeight="Regular"
     TextOptions.TextFormattingMode="Ideal"
     TextOptions.TextRenderingMode="Auto"
     FontFamily="{DynamicResource MaterialDesignFont}"
        WindowStyle="None"
        ResizeMode="CanMinimize"
        WindowStartupLocation="CenterScreen"
        x:Name="receptionWindow"
        Title="ReceptionWindow" Height="600" Width="1200">

    <i:Interaction.Triggers>
        <i:EventTrigger EventName="Loaded">
            <i:InvokeCommandAction Command="{Binding LoadedCommand}" CommandParameter="{Binding ElementName= Username_TextBlock}"/>
        </i:EventTrigger>
    </i:Interaction.Triggers>
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/Style/TabControl.xaml"></ResourceDictionary>
                <ResourceDictionary Source="/Style/ListView.xaml"></ResourceDictionary>
            </ResourceDictionary.MergedDictionaries>

        </ResourceDictionary>
    </Window.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="25"></RowDefinition>
            <RowDefinition Height="90"></RowDefinition>
            <RowDefinition Height="*"></RowDefinition>
        </Grid.RowDefinitions>
        <Grid Grid.Row="0" x:Name="GridControlBar">
            <uc:ControlBar></uc:ControlBar>
        </Grid>
        <Grid Grid.Row="1" >
            <Image Source=".\Image\TopBackground.jpg" Opacity="0.5" Stretch="UniformToFill" Margin="0" RenderTransformOrigin="0.5,0.5"/>
            <Image Source=".\Image\MainLogo.png" Margin="50,5,5,5" HorizontalAlignment="Left"></Image>
            <StackPanel HorizontalAlignment="Right" Margin="0,10,50,10">
                <TextBlock x:Name="Username_TextBlock" Text="Họ tên: " FontSize="15" FontWeight="Bold" ></TextBlock>
                <TextBlock Margin="0,8,0,0" Text="Email: " FontSize="15"></TextBlock>
                <TextBlock Margin="0,8,0,0" Text="Số điện thoại: " FontSize="15"></TextBlock>
            </StackPanel>
        </Grid>
        <Grid Grid.Row="2">
            <TabControl Style="{DynamicResource ResourceKey=styleTabControl}">
                <TabItem Name="ReceptionPatient_TabItem" Header="Tiếp nhận" Style="{DynamicResource ResourceKey=styleTabItemLeft}" Height="35">
                    <Grid >
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="250"></ColumnDefinition>
                            <ColumnDefinition Width="*"></ColumnDefinition>
                            <ColumnDefinition Width="250"></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <Grid Grid.Column="0" Margin="5">
                            <Border BorderBrush="#1c97a1" BorderThickness="1,0,1,1"  CornerRadius="10"></Border>
                            <StackPanel>
                                <Grid >
                                    <Border BorderThickness="1" CornerRadius="10,10,0,0" Background="{StaticResource ResourceKey=gradientBrushTabControlHeader}"></Border>
                                    <TextBlock FontSize="18" Text="THÊM BỆNH NHÂN MỚI" Foreground="White"
                                       Margin="20,4,23.8,-0.4" HorizontalAlignment="Center">
                                        <TextBlock.Effect>
                                            <DropShadowEffect
                                                BlurRadius="0.0"
                                                  Color="#024c52"
                                                  Direction="90"
                                                  Opacity="1"
                                                  ShadowDepth="1"/>
                                        </TextBlock.Effect>
                                    </TextBlock>
                                </Grid>
                                <StackPanel x:Name="InputInforNewPatient_StackPanel"  VerticalAlignment="Top">

                                    <TextBox x:Name="NameOfNewPatient_TextBox" Margin="10,10,10,3" materialDesign:HintAssist.Hint="Họ tên"
                                              Style="{StaticResource MaterialDesignFloatingHintTextBox}" />
                                    <DatePicker  Name="BirthdayOfNewPatient_DatePicker" Margin="10,3,10,3" materialDesign:HintAssist.Hint="Ngày sinh" 
                                                 SelectedDateFormat="Short" Style="{StaticResource MaterialDesignFloatingHintDatePicker}" />
                                    <ComboBox Name="GenderOfNewPatient_ComboBox" Margin="10,3,10,3" materialDesign:HintAssist.Hint="Giới tính" Style="{StaticResource MaterialDesignFloatingHintComboBox}">
                                        <ComboBoxItem>
                                            Nam
                                        </ComboBoxItem>
                                        <ComboBoxItem>
                                            Nữ
                                        </ComboBoxItem>
                                    </ComboBox>
                                    <TextBox x:Name="PhoneOfNewPatient_TextBox" Margin="10,3,10,3" materialDesign:HintAssist.Hint="Số điện thoại" Style="{StaticResource MaterialDesignFloatingHintTextBox}" />
                                    <TextBox x:Name="AddressOfNewPatient_TextBox" Margin="10,3,10,3" materialDesign:HintAssist.Hint="Địa chỉ" Style="{StaticResource MaterialDesignFloatingHintTextBox}" />
                                </StackPanel>
                                <ToggleButton x:Name="AddNewPatient_Button" Width="50" Height="50" Margin="0,20,0,0"
                                              Style="{StaticResource MaterialDesignActionToggleButton}"
                                              ToolTip="Thêm"
                                              Command="{Binding AddNewPatientButtonCommand}" CommandParameter="{Binding ElementName=ReceptionPatient_TabItem}"
                                              materialDesign:ShadowAssist.ShadowDepth="Depth3">
                                    <ToggleButton.Content>
                                        <materialDesign:PackIcon Kind="Tick" Width="30" Height="30"></materialDesign:PackIcon>
                                    </ToggleButton.Content>
                                </ToggleButton>


                            </StackPanel>

                        </Grid>
                        <Grid Grid.Column="1" Margin="5">
                            <Border BorderBrush="#1c97a1" BorderThickness="1,0,1,1"  CornerRadius="10"></Border>
                            <StackPanel>
                                <Grid x:Name="PatientListHeader">
                                    <Border BorderThickness="1" CornerRadius="10,10,0,0" Background="{StaticResource ResourceKey=gradientBrushTabControlHeader}"></Border>
                                    <TextBlock FontSize="18" Text="DANH SÁCH BỆNH NHÂN ĐÃ TIẾP NHẬN TRONG NGÀY" Foreground="White"
                                       Margin="20,4,0,0">
                                        <TextBlock.Effect>
                                            <DropShadowEffect
                                                BlurRadius="0.0"
                                                  Color="#024c52"
                                                  Direction="90"
                                                  Opacity="1"
                                                  ShadowDepth="1"/>
                                        </TextBlock.Effect>
                                    </TextBlock>
                                    <TextBlock x:Name="CountReception_TextBlock" FontSize="18" Foreground="White"
                                       Margin="0,4,20,0" HorizontalAlignment="Right" >
                                        <TextBlock.Effect>
                                            <DropShadowEffect
                                                BlurRadius="0.0"
                                                  Color="#024c52"
                                                  Direction="90"
                                                  Opacity="1"
                                                  ShadowDepth="1"/>
                                        </TextBlock.Effect>
                                    </TextBlock>
                                </Grid>
                                <StackPanel Orientation="Horizontal">
                                    <TextBox x:Name="PatientSearch_Textbox" Margin="15,0,0,5"  
                                                 BorderThickness="0,0,0,1"
                                                Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                                                 materialDesign:HintAssist.Hint="Tìm kiếm tên bệnh nhân" 
                                                 materialDesign:TextFieldAssist.DecorationVisibility="Hidden">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="TextChanged">
                                                <i:InvokeCommandAction Command="{Binding LoadedReceptionPatient_ListViewCommand }" 
                                                                       CommandParameter="{Binding ElementName= ReceptionPatient_TabItem}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </TextBox>
                                </StackPanel>
                                <ListView  Name="Reception_ListView"  Margin="10,10,9.8,0" ScrollViewer.VerticalScrollBarVisibility="Auto"  ScrollViewer.HorizontalScrollBarVisibility="Visible"  ScrollViewer.CanContentScroll="True"  HorizontalAlignment="Stretch" VerticalAlignment="Top" 
                                           ItemsSource="{Binding ListPatient, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                           SelectedItem="{Binding SelectedPatient, Mode=TwoWay}" SelectionMode="Single">

                                    <ListView.View>
                                        <GridView AllowsColumnReorder="true" ColumnHeaderToolTip="Authors" >


                                            <GridViewColumn Header="Họ tên" Width="150" DisplayMemberBinding="{Binding TenBenhNhan}" />
                                            <GridViewColumn Header="Ngày sinh" Width="150" DisplayMemberBinding="{Binding NgaySinh, StringFormat='{}{0:dd/MM/yyyy}'}" />
                                            <GridViewColumn Header="Giới tính" Width="90" DisplayMemberBinding="{Binding GioiTinh}"></GridViewColumn>
                                            <GridViewColumn Header="Địa chỉ" Width="150" DisplayMemberBinding="{Binding DiaChi}"></GridViewColumn>
                                            <GridViewColumn Header="Số điện thoại" Width="120" >
                                                <GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding SoDienThoai}" TextDecorations="Underline" Foreground="Blue" Cursor="Hand" />
                                                    </DataTemplate>
                                                </GridViewColumn.CellTemplate>
                                            </GridViewColumn>
                                        </GridView>
                                    </ListView.View>
                                </ListView>
                            </StackPanel>

                        </Grid>
                        <Grid Margin="5" Grid.Column="2">
                            <Border BorderBrush="#1c97a1" BorderThickness="1,0,1,1"  CornerRadius="10"></Border>
                            <StackPanel>
                                <Grid >
                                    <Border BorderThickness="1" CornerRadius="10,10,0,0" Background="{StaticResource ResourceKey=gradientBrushTabControlHeader}"></Border>
                                    <TextBlock FontSize="18" Text="THÔNG TIN BỆNH NHÂN" Foreground="White"
                                       Margin="20,4,23.8,-0.4" HorizontalAlignment="Center">
                                        <TextBlock.Effect>
                                            <DropShadowEffect
                                                BlurRadius="0.0"
                                                  Color="#024c52"
                                                  Direction="90"
                                                  Opacity="1"
                                                  ShadowDepth="1"/>
                                        </TextBlock.Effect>
                                    </TextBlock>
                                </Grid>
                                <StackPanel x:Name="InforPatient_StackPanel"  VerticalAlignment="Top">

                                    <TextBox x:Name="NameOfPatient_TextBox" Margin="10,10,10,3" materialDesign:HintAssist.Hint="Họ tên"
                                             Text="{Binding NameOfPatientUpdate, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" 
                                             Style="{StaticResource MaterialDesignFloatingHintTextBox}" />
                                    <DatePicker  Name="BirthdayOfPatient_DatePicker" Margin="10,3,10,3" materialDesign:HintAssist.Hint="Ngày sinh" 
                                                 SelectedDate="{Binding BirthdayOfPatientUpdate, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay, StringFormat='{}{0:MM/dd/yyyy}'}"
                                                 SelectedDateFormat="Short" Style="{StaticResource MaterialDesignFloatingHintDatePicker}" />
                                    <ComboBox Name="GenderOfPatient_ComboBox" Margin="10,3,10,3" materialDesign:HintAssist.Hint="Giới tính" 
                                              Text="{Binding GenderOfPatientUpdate, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                              Style="{StaticResource MaterialDesignFloatingHintComboBox}">
                                        <ComboBoxItem>
                                            Nam
                                        </ComboBoxItem>
                                        <ComboBoxItem>
                                            Nữ
                                        </ComboBoxItem>
                                    </ComboBox>
                                    <TextBox x:Name="PhoneOfPatient_TextBox" Margin="10,3,10,3" materialDesign:HintAssist.Hint="Số điện thoại" 
                                             Text="{Binding PhoneOfPatientUpdate, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                             Style="{StaticResource MaterialDesignFloatingHintTextBox}" />
                                    <TextBox x:Name="AddressOfPatient_TextBox" Margin="10,3,10,3" materialDesign:HintAssist.Hint="Địa chỉ" 
                                             Text="{Binding AddressOfPatientUpdate, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"
                                             Style="{StaticResource MaterialDesignFloatingHintTextBox}" />
                                </StackPanel>
                                <ToggleButton x:Name="UpdatePatient_Button" Width="50" Height="50" Margin="0,20,0,0"
                                              Style="{StaticResource MaterialDesignActionToggleButton}"
                                              ToolTip="Sửa"
                                              Command="{Binding UpdatePatientButtonCommand}" CommandParameter="{Binding ElementName=InforPatient_StackPanel}"
                                              materialDesign:ShadowAssist.ShadowDepth="Depth3">
                                    <ToggleButton.Content>
                                        <materialDesign:PackIcon Kind="Tick" Width="30" Height="30"></materialDesign:PackIcon>
                                    </ToggleButton.Content>
                                </ToggleButton>
                            </StackPanel>
                        </Grid>
                    </Grid>
                    <i:Interaction.Triggers>
                        <i:EventTrigger EventName="Loaded">
                            <i:InvokeCommandAction Command="{Binding LoadedReceptionPatientCommand}" CommandParameter="{Binding ElementName= ReceptionPatient_TabItem}"/>
                        </i:EventTrigger>
                    </i:Interaction.Triggers>
                </TabItem>
                <TabItem Header="Hàng chờ" Style="{DynamicResource ResourceKey=styleTabItemDefault}">
                    <Grid x:Name="Queue_Grid">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="250"></ColumnDefinition>
                            <ColumnDefinition Width="*"></ColumnDefinition>
                            <ColumnDefinition Width="250"></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <Grid Grid.Column="0" x:Name="ServiceQueue_Grid" Margin="5">
                            <Border BorderBrush="#1c97a1" BorderThickness="1,0,1,1"  CornerRadius="10"></Border>
                            <StackPanel>
                                <Grid x:Name="ServiceQueueListHeader">
                                    <Border BorderThickness="1" CornerRadius="10,10,0,0" Background="{StaticResource ResourceKey=gradientBrushTabControlHeader}"></Border>
                                    <StackPanel Orientation="Horizontal">
                                        <Button x:Name="ExpandServiceQueueGrid_Button" Margin="10,0,0,0" Width="30" 
                                                ToolTip="Mở rộng" Cursor="Hand"
                                                Command="{Binding ExpandButtonOfServiceQueueCommand}"
                                                CommandParameter="{Binding ElementName=Queue_Grid}">
                                            <materialDesign:PackIcon Kind="ArrowExpandHorizontal" Width="19" Height="20" Foreground="White"></materialDesign:PackIcon>
                                            <Button.Style>
                                                <Style TargetType="Button">
                                                    <Setter Property="Template">
                                                        <Setter.Value>
                                                            <ControlTemplate TargetType="Button">
                                                                <Border Name="boder"
                                                                        BorderThickness="0" Background="Transparent" CornerRadius="10">
                                                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                                </Border>
                                                            </ControlTemplate>
                                                        </Setter.Value>
                                                    </Setter>
                                                </Style>
                                            </Button.Style>

                                        </Button>
                                        <TextBlock FontSize="18" Text="DANH SÁCH BỆNH NHÂN ĐANG CHỜ SỬ DỤNG DỊCH VỤ" Foreground="White"
                                       Margin="5,4,0,0">
                                            <TextBlock.Effect>
                                                <DropShadowEffect
                                                BlurRadius="0.0"
                                                  Color="#024c52"
                                                  Direction="90"
                                                  Opacity="1"
                                                  ShadowDepth="1"/>
                                            </TextBlock.Effect>
                                        </TextBlock>
                                    </StackPanel>

                                </Grid>
                                <StackPanel Orientation="Horizontal">
                                    <TextBox x:Name="ServiceQueueSearch_Textbox" Margin="15,0,0,5"  
                                                 BorderThickness="0,0,0,1"
                                                Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                                                 materialDesign:HintAssist.Hint="Tìm kiếm tên bệnh nhân" 
                                                 materialDesign:TextFieldAssist.DecorationVisibility="Hidden">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="TextChanged">
                                                <i:InvokeCommandAction Command="{Binding LoadedReceptionPatient_ListViewCommand }" 
                                                                       CommandParameter="{Binding ElementName= ReceptionPatient_TabItem}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </TextBox>
                                </StackPanel>
                                <ListView  Name="CuringQueueListView" Margin="10,10,10,0"   ScrollViewer.VerticalScrollBarVisibility="Auto"  ScrollViewer.HorizontalScrollBarVisibility="Visible"  ScrollViewer.CanContentScroll="True"  HorizontalAlignment="Stretch" VerticalAlignment="Top" 
                                            SelectionMode="Single" ItemsSource="{Binding ListServiceQueue}">

                                    <ListView.View>
                                        <GridView AllowsColumnReorder="true" ColumnHeaderToolTip="Authors" >

                                            <GridViewColumn Header="Họ tên" Width="180" DisplayMemberBinding="{Binding PHIEUKHAM.BENHNHAN.TenBenhNhan}" />
                                            <GridViewColumn Header="Ngày sinh" Width="120" DisplayMemberBinding="{Binding PHIEUKHAM.BENHNHAN.NgaySinh, StringFormat='{}{0:dd/MM/yyyy}'}" />
                                            <GridViewColumn Header="Giới tính" Width="90" DisplayMemberBinding="{Binding PHIEUKHAM.BENHNHAN.GioiTinh}"></GridViewColumn>
                                            <GridViewColumn Header="Địa chỉ" Width="150" DisplayMemberBinding="{Binding PHIEUKHAM.BENHNHAN.DiaChi}"></GridViewColumn>
                                            <GridViewColumn Header="Số điện thoại" Width="120">
                                                <GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding PHIEUKHAM.BENHNHAN.SoDienThoai}" TextDecorations="Underline" Foreground="Blue" Cursor="Hand" />
                                                    </DataTemplate>
                                                </GridViewColumn.CellTemplate>
                                            </GridViewColumn>
                                            <GridViewColumn Header="Tên dịch vụ" Width="150" DisplayMemberBinding="{Binding DICHVU.TenDichVu}"></GridViewColumn>
                                        </GridView>
                                    </ListView.View>
                                </ListView>
                            </StackPanel>

                        </Grid>
                        <Grid x:Name="PayQueue_Grid" Grid.Column="1" Margin="5">
                            <Border BorderBrush="#1c97a1" BorderThickness="1,0,1,1"  CornerRadius="10"></Border>
                            <StackPanel>
                                <Grid x:Name="PayQueueListHeader">
                                    <Border BorderThickness="1" CornerRadius="10,10,0,0" Background="{StaticResource ResourceKey=gradientBrushTabControlHeader}"></Border>
                                    <StackPanel Orientation="Horizontal">
                                        <Button x:Name="ExpandPayQueueGrid_Button" Margin="10,0,0,0" Width="30"
                                                ToolTip="Mở rộng" Cursor="Hand"
                                                Command="{Binding ExpandButtonOfPayQueueCommand}"
                                                CommandParameter="{Binding ElementName=Queue_Grid}">
                                            <materialDesign:PackIcon Kind="ArrowExpandHorizontal" Width="19" Height="20" Foreground="White"></materialDesign:PackIcon>
                                            <Button.Style>
                                                <Style TargetType="Button">
                                                    <Setter Property="Template">
                                                        <Setter.Value>
                                                            <ControlTemplate TargetType="Button">
                                                                <Border Name="boder"
                                                                        BorderThickness="0" Background="Transparent" CornerRadius="10">
                                                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                                </Border>
                                                            </ControlTemplate>
                                                        </Setter.Value>
                                                    </Setter>
                                                </Style>
                                            </Button.Style>
                                            <i:Interaction.Triggers>
                                                <i:EventTrigger EventName="MouseDown">
                                                    <i:InvokeCommandAction Command="{Binding ExpandButtonOfPayQueueCommand}" CommandParameter="{Binding ElementName= Queue_Grid}"/>
                                                </i:EventTrigger>
                                            </i:Interaction.Triggers>
                                        </Button>
                                        <TextBlock FontSize="18" Text="DANH SÁCH BỆNH NHÂN ĐANG CHỜ THANH TOÁN" Foreground="White"
                                                    Margin="5,4,10,0">
                                            <TextBlock.Effect>
                                                <DropShadowEffect
                                                BlurRadius="0.0"
                                                  Color="#024c52"
                                                  Direction="90"
                                                  Opacity="1"
                                                  ShadowDepth="1"/>
                                            </TextBlock.Effect>
                                        </TextBlock>
                                    </StackPanel>

                                </Grid>
                                <StackPanel Orientation="Horizontal">
                                    <TextBox x:Name="PayQueueSearch_Textbox" Margin="15,0,0,5"  
                                                 BorderThickness="0,0,0,1"
                                                Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                                                 materialDesign:HintAssist.Hint="Tìm kiếm tên bệnh nhân" 
                                                 materialDesign:TextFieldAssist.DecorationVisibility="Hidden">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="TextChanged">
                                                <i:InvokeCommandAction Command="{Binding LoadedReceptionPatient_ListViewCommand }" 
                                                                       CommandParameter="{Binding ElementName= ReceptionPatient_TabItem}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </TextBox>
                                </StackPanel>
                                <ListView  Name="PayQueueListView" Margin="10,10,10,0"   ScrollViewer.VerticalScrollBarVisibility="Auto"  ScrollViewer.HorizontalScrollBarVisibility="Visible"  ScrollViewer.CanContentScroll="True"  HorizontalAlignment="Stretch" VerticalAlignment="Top" 
                                            SelectionMode="Single"  ItemsSource="{Binding ListPayQueue}">

                                    <ListView.View>
                                        <GridView AllowsColumnReorder="true" ColumnHeaderToolTip="Authors" >

                                            <GridViewColumn Header="Họ tên" Width="180" DisplayMemberBinding="{Binding PHIEUKHAM.BENHNHAN.TenBenhNhan}" />
                                            <GridViewColumn Header="Ngày sinh" Width="100" DisplayMemberBinding="{Binding PHIEUKHAM.BENHNHAN.NgaySinh, StringFormat='{}{0:dd/MM/yyyy}'}" />
                                            <GridViewColumn Header="Giới tính" Width="90" DisplayMemberBinding="{Binding PHIEUKHAM.BENHNHAN.GioiTinh}"></GridViewColumn>
                                            <GridViewColumn Header="Địa chỉ" Width="150" DisplayMemberBinding="{Binding PHIEUKHAM.BENHNHAN.DiaChi}"></GridViewColumn>
                                            <GridViewColumn Header="Số điện thoại" Width="120">
                                                <GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding PHIEUKHAM.BENHNHAN.SoDienThoai}" TextDecorations="Underline" Foreground="Blue" Cursor="Hand" />
                                                    </DataTemplate>
                                                </GridViewColumn.CellTemplate>
                                            </GridViewColumn>
                                            <GridViewColumn Header="Tên dịch vụ" Width="150" DisplayMemberBinding="{Binding DICHVU.TenDichVu}"></GridViewColumn>
                                            <GridViewColumn Header="Đơn giá" Width="100" DisplayMemberBinding="{Binding DICHVU.DơnGia}"></GridViewColumn>
                                            <GridViewColumn>
                                                <GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Button Width="100" Content="Thanh Toán"  VerticalAlignment="Top" FontSize="10"
                                                                Command="{Binding ElementName=PayQueueListView, Path=DataContext.PayCommand}" 
                                                                CommandParameter="{Binding}"
                                                                Style="{StaticResource MaterialDesignRaisedButton}">

                                                        </Button>
                                                    </DataTemplate>
                                                </GridViewColumn.CellTemplate>
                                            </GridViewColumn>

                                        </GridView>
                                    </ListView.View>
                                </ListView>
                            </StackPanel>

                        </Grid>

                        <Grid Grid.Column="2" x:Name="CuringQueue_Grid" Margin="5">
                            <Border BorderBrush="#1c97a1" BorderThickness="1,0,1,1"  CornerRadius="10"></Border>
                            <StackPanel>
                                <Grid x:Name="CuringQueueListHeader">
                                    <Border BorderThickness="1" CornerRadius="10,10,0,0" Background="{StaticResource ResourceKey=gradientBrushTabControlHeader}"></Border>
                                    <StackPanel Orientation="Horizontal">
                                        <Button x:Name="ExpandCuringQueueGrid_Button"
                                                Margin="10,0,0,0" Width="30"
                                                ToolTip="Mở rộng" Cursor="Hand"
                                                Command="{Binding ExpandButtonOfCuringQueueCommand}"
                                                CommandParameter="{Binding ElementName=Queue_Grid}">
                                            <materialDesign:PackIcon Kind="ArrowExpandHorizontal" Width="19" Height="20" Foreground="White"></materialDesign:PackIcon>
                                            <Button.Style>
                                                <Style TargetType="Button">
                                                    <Setter Property="Template">
                                                        <Setter.Value>
                                                            <ControlTemplate TargetType="Button">
                                                                <Border Name="boder"
                                                                        BorderThickness="0" Background="Transparent" CornerRadius="10">
                                                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                                </Border>
                                                            </ControlTemplate>
                                                        </Setter.Value>
                                                    </Setter>
                                                </Style>
                                            </Button.Style>
                                        </Button>
                                        <TextBlock FontSize="18" Text="DANH SÁCH BỆNH NHÂN ĐANG CHỜ KHÁM BỆNH" Foreground="White"
                                       Margin="5,4,0,0">
                                            <TextBlock.Effect>
                                                <DropShadowEffect
                                                BlurRadius="0.0"
                                                  Color="#024c52"
                                                  Direction="90"
                                                  Opacity="1"
                                                  ShadowDepth="1"/>
                                            </TextBlock.Effect>
                                        </TextBlock>
                                    </StackPanel>

                                </Grid>
                                <StackPanel Orientation="Horizontal">
                                    <TextBox x:Name="CuringQueueSearch_Textbox" Margin="15,0,0,5"  
                                                 BorderThickness="0,0,0,1"
                                                Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                                                 materialDesign:HintAssist.Hint="Tìm kiếm tên bệnh nhân" 
                                                 materialDesign:TextFieldAssist.DecorationVisibility="Hidden">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="TextChanged">
                                                <i:InvokeCommandAction Command="{Binding LoadedReceptionPatient_ListViewCommand }" 
                                                                       CommandParameter="{Binding ElementName= ReceptionPatient_TabItem}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </TextBox>
                                </StackPanel>
                                <ListView  Name="CuringQueue_ListView" Margin="10,10,10,0"   ScrollViewer.VerticalScrollBarVisibility="Auto"  ScrollViewer.HorizontalScrollBarVisibility="Visible"  ScrollViewer.CanContentScroll="True"  HorizontalAlignment="Stretch" VerticalAlignment="Top" 
                                             SelectionMode="Single" ItemsSource="{Binding ListCuringQueue}">
                                    <ListView.View>
                                        <GridView AllowsColumnReorder="true" ColumnHeaderToolTip="Authors" >

                                            <!-- Add GridVeiw Columns -->

                                            <GridViewColumn Header="Họ tên" Width="180" DisplayMemberBinding="{Binding PHIEUKHAM.BENHNHAN.TenBenhNhan}" />
                                            <GridViewColumn Header="Ngày Sinh" Width="120" DisplayMemberBinding="{Binding PHIEUKHAM.BENHNHAN.NgaySinh, StringFormat='{}{0:dd/MM/yyyy}'}" />
                                            <GridViewColumn Header="Giới tính" Width="90" DisplayMemberBinding="{Binding PHIEUKHAM.BENHNHAN.GioiTinh}"></GridViewColumn>
                                            <GridViewColumn Header="Địa chỉ" Width="150" DisplayMemberBinding="{Binding PHIEUKHAM.BENHNHAN.DiaChi}"></GridViewColumn>
                                            <GridViewColumn Header="Số điện thoại" Width="120">
                                                <GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding PHIEUKHAM.BENHNHAN.SoDienThoai}" TextDecorations="Underline" Foreground="Blue" Cursor="Hand" />
                                                    </DataTemplate>
                                                </GridViewColumn.CellTemplate>
                                            </GridViewColumn>
                                            <GridViewColumn Header="Triệu chứng" Width="150" DisplayMemberBinding="{Binding PHIEUKHAM.TrieuChung}"></GridViewColumn>
                                        </GridView>
                                    </ListView.View>
                                </ListView>
                            </StackPanel>

                        </Grid>
                    </Grid>
                </TabItem>
                <TabItem x:Name="MedicalRecord_TabItem" Header="Phiếu khám" Style="{DynamicResource ResourceKey=styleTabItemDefault}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="400"/>
                        </Grid.ColumnDefinitions>
                        <Grid Grid.Column="0" Margin="5">
                            <Border BorderBrush="#1c97a1" BorderThickness="1,0,1,1"  CornerRadius="10"></Border>
                            <StackPanel>
                                <Grid>
                                    <Border BorderThickness="1" CornerRadius="10,10,0,0" Background="{StaticResource ResourceKey=gradientBrushTabControlHeader}"></Border>
                                    <TextBlock FontSize="18" Text="DANH SÁCH PHIẾU KHÁM" Foreground="White"
                                       Margin="20,4,0,0">
                                        <TextBlock.Effect>
                                            <DropShadowEffect
                                                BlurRadius="0.0"
                                                  Color="#024c52"
                                                  Direction="90"
                                                  Opacity="1"
                                                  ShadowDepth="1"/>
                                        </TextBlock.Effect>
                                    </TextBlock>

                                </Grid>
                                <StackPanel Orientation="Horizontal">
                                    <DatePicker x:Name="MedicalRecordStartDay_DatePicker" Margin="15,0,0,5" Width="100" materialDesign:HintAssist.Hint="Từ ngày"
                                                Style="{StaticResource MaterialDesignFloatingHintDatePicker}"
                                                SelectedDate="{x:Static sys:DateTime.Today}">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="SelectedDateChanged">
                                                <i:InvokeCommandAction Command="{Binding MedicalRecord_ListViewLoadedCommand}" CommandParameter="{Binding ElementName= Reexamination_TabItem}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </DatePicker>
                                    <DatePicker x:Name="MedicalRecordFinishDay_DatePicker" Margin="15,0,0,5" Width="100" materialDesign:HintAssist.Hint="Đến ngày"
                                                Style="{StaticResource MaterialDesignFloatingHintDatePicker}" 
                                                SelectedDate="{x:Static sys:DateTime.Today}">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="SelectedDateChanged">
                                                <i:InvokeCommandAction Command="{Binding Medical_ListViewLoadedCommand }" CommandParameter="{Binding ElementName= Reexamination_TabItem}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </DatePicker>
                                    <TextBox x:Name="MedicalRecordSearch_Textbox" Margin="15,0,0,5"  
                                                 BorderThickness="0,0,0,1"
                                                Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                                                 materialDesign:HintAssist.Hint="Tìm kiếm tên bệnh nhân" 
                                                 materialDesign:TextFieldAssist.DecorationVisibility="Hidden">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="TextChanged">
                                                <i:InvokeCommandAction Command="{Binding Reexamination_ListViewLoadedCommand }" CommandParameter="{Binding ElementName= Reexamination_TabItem}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </TextBox>
                                    <Button Margin="15,4,0,0" Height="25"
                                        Style="{StaticResource MaterialDesignRaisedButton}" ToolTip="Hôm nay" 
                                            Command="{Binding DisplayListReexaminationTodayCommand}"
                                            CommandParameter="{Binding ElementName=Reexamination_TabItem}">
                                        <materialDesign:PackIcon Kind="CalendarToday" />

                                    </Button>


                                </StackPanel>
                                <ListView x:Name="MedicalRecord_ListView" 
                                          ItemsSource="{Binding ListMedicalRecord, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                                          SelectedItem="{Binding SelectedMedicalRecord}" SelectionMode="Single"
                                          Margin="10,10,10,0" ScrollViewer.VerticalScrollBarVisibility="Auto"  ScrollViewer.HorizontalScrollBarVisibility="Visible"  ScrollViewer.CanContentScroll="True"  HorizontalAlignment="Stretch" VerticalAlignment="Top" >

                                    <ListView.View>
                                        <GridView AllowsColumnReorder="true" ColumnHeaderToolTip="Authors" >

                                            <GridViewColumn Header="Họ tên" Width="170" DisplayMemberBinding="{Binding BENHNHAN.TenBenhNhan}" />
                                            <GridViewColumn Header="Địa chỉ" Width="150" DisplayMemberBinding="{Binding BENHNHAN.DiaChi}"></GridViewColumn>
                                            <GridViewColumn Header="Ngày khám" Width="150" DisplayMemberBinding="{Binding NgayKham}"></GridViewColumn>
                                            <GridViewColumn Header="Triệu chứng" Width="200" DisplayMemberBinding="{Binding TrieuChung}"></GridViewColumn>
                                            <GridViewColumn Header="Chẩn đoán" Width="150" DisplayMemberBinding="{Binding LOAIBENH.TenLoaiBenh}"></GridViewColumn>
                                            <GridViewColumn Header="Ngày tái khám" Width="150" DisplayMemberBinding="{Binding NgayTaiKham}"></GridViewColumn>
                                        </GridView>
                                    </ListView.View>
                                </ListView>
                            </StackPanel>

                        </Grid>
                        <Grid Grid.Column="1">

                            <Grid.RowDefinitions>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                            </Grid.RowDefinitions>
                            <Grid Grid.Row="0" Margin="5">
                                <Border BorderBrush="#1c97a1" BorderThickness="1,0,1,1"  CornerRadius="10"></Border>
                                <StackPanel>
                                    <Grid >
                                        <Border BorderThickness="1" CornerRadius="10,10,0,0" Background="{StaticResource ResourceKey=gradientBrushTabControlHeader}"></Border>
                                        <TextBlock FontSize="18" Text="THÔNG TIN SỬ DỤNG DỊCH VỤ" Foreground="White"
                                       Margin="20,4,23.8,-0.4" HorizontalAlignment="Center">
                                            <TextBlock.Effect>
                                                <DropShadowEffect
                                                BlurRadius="0.0"
                                                  Color="#024c52"
                                                  Direction="90"
                                                  Opacity="1"
                                                  ShadowDepth="1"/>
                                            </TextBlock.Effect>
                                        </TextBlock>
                                    </Grid>
                                    <ListView x:Name="ServiceDetails_ListView" ItemsSource="{Binding ListServiceDetails}"
                                          Margin="10,10,10,0" ScrollViewer.VerticalScrollBarVisibility="Auto"  ScrollViewer.HorizontalScrollBarVisibility="Visible"  ScrollViewer.CanContentScroll="True"  HorizontalAlignment="Stretch" VerticalAlignment="Top" >

                                        <ListView.View>
                                            <GridView AllowsColumnReorder="true" ColumnHeaderToolTip="Authors" >

                                                <GridViewColumn Header="Tên dịch vụ" Width="100" DisplayMemberBinding="{Binding DICHVU.TenDichVu}" />
                                                <GridViewColumn Header="Đơn giá" Width="100" DisplayMemberBinding="{Binding DonGia}"></GridViewColumn>

                                            </GridView>
                                        </ListView.View>
                                    </ListView>


                                </StackPanel>

                            </Grid>
                            <Grid Grid.Row="1" Margin="5">
                                <Border BorderBrush="#1c97a1" BorderThickness="1,0,1,1"  CornerRadius="10"></Border>
                                <StackPanel>
                                    <Grid >
                                        <Border BorderThickness="1" CornerRadius="10,10,0,0" Background="{StaticResource ResourceKey=gradientBrushTabControlHeader}"></Border>
                                        <TextBlock FontSize="18" Text="THÔNG TIN ĐƠN THUỐC" Foreground="White"
                                       Margin="20,4,23.8,-0.4" HorizontalAlignment="Center">
                                            <TextBlock.Effect>
                                                <DropShadowEffect
                                                BlurRadius="0.0"
                                                  Color="#024c52"
                                                  Direction="90"
                                                  Opacity="1"
                                                  ShadowDepth="1"/>
                                            </TextBlock.Effect>
                                        </TextBlock>
                                    </Grid>
                                    <ListView x:Name="Prescription_ListView" Margin="10,10,10,0" ScrollViewer.VerticalScrollBarVisibility="Auto"  ScrollViewer.HorizontalScrollBarVisibility="Visible"  ScrollViewer.CanContentScroll="True"  HorizontalAlignment="Stretch" VerticalAlignment="Top" 
                                              ItemsSource="{Binding ListPrescription}">

                                        <ListView.View>
                                            <GridView AllowsColumnReorder="true" ColumnHeaderToolTip="Authors" >

                                                <GridViewColumn Header="Tên Thuốc" Width="100" DisplayMemberBinding="{Binding THUOC.TenThuoc}" />
                                                <GridViewColumn Header="Số lượng kê" Width="110" DisplayMemberBinding="{Binding SoLuongKe}"></GridViewColumn>
                                                <GridViewColumn Header="Đơn vị" Width="70" DisplayMemberBinding="{Binding THUOC.DONVI.TenDonVi}"></GridViewColumn>
                                                <GridViewColumn Header="Đơn giá" Width="100" DisplayMemberBinding="{Binding DonGia}"></GridViewColumn>
                                            </GridView>
                                        </ListView.View>
                                    </ListView>


                                </StackPanel>

                            </Grid>

                        </Grid>
                    </Grid>

                </TabItem>

                <TabItem x:Name="Reexamination_TabItem" Header="Tái khám" Style="{DynamicResource ResourceKey=styleTabItemRight}">
                    <Grid >
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="250"/>
                        </Grid.ColumnDefinitions>
                        <Grid Grid.Column="0" Margin="5">
                            <Border BorderBrush="#1c97a1" BorderThickness="1,0,1,1"  CornerRadius="10"></Border>
                            <StackPanel>
                                <Grid >
                                    <Border BorderThickness="1" CornerRadius="10,10,0,0" Background="{StaticResource ResourceKey=gradientBrushTabControlHeader}"></Border>
                                    <TextBlock FontSize="18" Text="DANH SÁCH BỆNH NHÂN CHỜ TÁI KHÁM" Foreground="White"
                                       Margin="20,4,0,0">
                                        <TextBlock.Effect>
                                            <DropShadowEffect
                                                BlurRadius="0.0"
                                                  Color="#024c52"
                                                  Direction="90"
                                                  Opacity="1"
                                                  ShadowDepth="1"/>
                                        </TextBlock.Effect>
                                    </TextBlock>
                                </Grid>
                                <StackPanel Orientation="Horizontal">
                                    <DatePicker x:Name="ReexaminationStartDay_DatePicker" Margin="15,0,0,5" Width="100" materialDesign:HintAssist.Hint="Từ ngày"
                                                Style="{StaticResource MaterialDesignFloatingHintDatePicker}"
                                                SelectedDate="{x:Static sys:DateTime.Today}">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="SelectedDateChanged">
                                                <i:InvokeCommandAction Command="{Binding Reexamination_ListViewLoadedCommand}" CommandParameter="{Binding ElementName= Reexamination_TabItem}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </DatePicker>
                                    <DatePicker x:Name="ReexaminationFinishDay_DatePicker" Margin="15,0,0,5" Width="100" materialDesign:HintAssist.Hint="Đến ngày"
                                                Style="{StaticResource MaterialDesignFloatingHintDatePicker}" 
                                                SelectedDate="{x:Static sys:DateTime.Today}">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="SelectedDateChanged">
                                                <i:InvokeCommandAction Command="{Binding Reexamination_ListViewLoadedCommand }" CommandParameter="{Binding ElementName= Reexamination_TabItem}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </DatePicker>

                                    <TextBox x:Name="ReexaminationSearch_Textbox" Margin="15,0,0,5"  
                                                 BorderThickness="0,0,0,1"
                                                Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                                                 materialDesign:HintAssist.Hint="Tìm kiếm tên bệnh nhân" 
                                                 materialDesign:TextFieldAssist.DecorationVisibility="Hidden">
                                        <i:Interaction.Triggers>
                                            <i:EventTrigger EventName="TextChanged">
                                                <i:InvokeCommandAction Command="{Binding Reexamination_ListViewLoadedCommand }" CommandParameter="{Binding ElementName= Reexamination_TabItem}"/>
                                            </i:EventTrigger>
                                        </i:Interaction.Triggers>
                                    </TextBox>
                                    <Button Margin="15,4,0,0" Height="25"
                                        Style="{StaticResource MaterialDesignRaisedButton}" ToolTip="Hôm nay" 
                                            Command="{Binding DisplayListReexaminationTodayCommand}"
                                            CommandParameter="{Binding ElementName=Reexamination_TabItem}">
                                        <materialDesign:PackIcon Kind="CalendarToday" />

                                    </Button>


                                </StackPanel>
                                <ListView x:Name="Reexamination_ListView" 
                                          ItemsSource="{Binding ListReexamination,Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" SelectionMode="Single"
                                          SelectedItem="{Binding SelectedReexamination, Mode=TwoWay}"
                                          Margin="10,10,10,0"   ScrollViewer.VerticalScrollBarVisibility="Auto"  ScrollViewer.HorizontalScrollBarVisibility="Visible"  ScrollViewer.CanContentScroll="True"  HorizontalAlignment="Stretch" VerticalAlignment="Top" >

                                    <ListView.View>
                                        <GridView AllowsColumnReorder="true" ColumnHeaderToolTip="Authors" >

                                            <!-- Add GridVeiw Columns -->

                                            <GridViewColumn Header="Họ tên" Width="150" DisplayMemberBinding="{Binding BENHNHAN.TenBenhNhan}" />
                                            <GridViewColumn Header="Ngày sinh" Width="150" DisplayMemberBinding="{Binding BENHNHAN.NgaySinh, StringFormat='{}{0:MM/dd/yyyy}'}" />
                                            <GridViewColumn Header="Giới tính" Width="90" DisplayMemberBinding="{Binding BENHNHAN.GioiTinh}"></GridViewColumn>
                                            <GridViewColumn Header="Địa chỉ" Width="150" DisplayMemberBinding="{Binding BENHNHAN.DiaChi}"></GridViewColumn>
                                            <GridViewColumn Header="Số điện thoại" Width="120" DisplayMemberBinding="{Binding BENHNHAN.SoDienThoai}">
                                                <GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <TextBlock Text="{Binding Phone}" TextDecorations="Underline" Foreground="Blue" Cursor="Hand" />
                                                    </DataTemplate>
                                                </GridViewColumn.CellTemplate>
                                            </GridViewColumn>
                                            <GridViewColumn Header="Ngày khám" Width="120" DisplayMemberBinding="{Binding NgayKham, StringFormat='{}{0:MM/dd/yyyy}'}"></GridViewColumn>
                                            <GridViewColumn Header="Chẩn đoán" Width="200" DisplayMemberBinding="{Binding LOAIBENH.TenLoaiBenh}"></GridViewColumn>
                                            <GridViewColumn Header="Ngày tái khám" Width="120" DisplayMemberBinding="{Binding NgayTaiKham, StringFormat='{}{0:MM/dd/yyyy}'}"></GridViewColumn>
                                            <GridViewColumn>
                                                <GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <Button Width="100" Content="Tiếp nhận"  VerticalAlignment="Top" FontSize="10"
                                                                Style="{StaticResource MaterialDesignRaisedButton}"
                                                                Command="{Binding ElementName=Reexamination_ListView, Path=DataContext.AddNewMedicalRecordFromReexaminationButtonCommand}" 
                                                                CommandParameter="{Binding}">

                                                        </Button>
                                                    </DataTemplate>
                                                </GridViewColumn.CellTemplate>
                                            </GridViewColumn>

                                        </GridView>
                                    </ListView.View>
                                    <i:Interaction.Triggers>
                                        <i:EventTrigger EventName="Loaded">
                                            <i:InvokeCommandAction Command="{Binding Reexamination_ListViewLoadedCommand}" CommandParameter="{Binding ElementName= Reexamination_TabItem}"/>
                                        </i:EventTrigger>
                                    </i:Interaction.Triggers>
                                </ListView>
                            </StackPanel>

                        </Grid>

                        <Grid Grid.Column="1" Margin="5">
                            <Border BorderBrush="#1c97a1" BorderThickness="1,0,1,1"  CornerRadius="10"></Border>
                            <StackPanel>
                                <Grid >
                                    <Border BorderThickness="1" CornerRadius="10,10,0,0" Background="{StaticResource ResourceKey=gradientBrushTabControlHeader}"></Border>
                                    <TextBlock FontSize="18" Text="THÔNG TIN BỆNH NHÂN" Foreground="White"
                                       Margin="20,4,23.8,-0.4" HorizontalAlignment="Center">
                                        <TextBlock.Effect>
                                            <DropShadowEffect
                                                BlurRadius="0.0"
                                                  Color="#024c52"
                                                  Direction="90"
                                                  Opacity="1"
                                                  ShadowDepth="1"/>
                                        </TextBlock.Effect>
                                    </TextBlock>
                                </Grid>
                                <StackPanel  VerticalAlignment="Top">

                                    <TextBox Margin="10,10,10,3" materialDesign:HintAssist.Hint="Họ tên"
                                             Text="{Binding SelectedReexamination.BENHNHAN.TenBenhNhan}"
                                             IsEnabled="False" Style="{StaticResource MaterialDesignFloatingHintTextBox}" />
                                    <TextBox  Margin="10,10,10,3" materialDesign:HintAssist.Hint="Ngày sinh"
                                              Text="{Binding SelectedReexamination.BENHNHAN.NgaySinh, StringFormat='{}{0:dd/MM/yyyy}'}"
                                              IsEnabled="False" Style="{StaticResource MaterialDesignFloatingHintTextBox}" PreviewTextInput="NumberValidationTextBox"/>
                                    <TextBox  Margin="10,10,10,3" materialDesign:HintAssist.Hint="Giới tính"
                                              Text="{Binding SelectedReexamination.BENHNHAN.GioiTinh}"
                                              IsEnabled="False" Style="{StaticResource MaterialDesignFloatingHintTextBox}" PreviewTextInput="NumberValidationTextBox"/>
                                    <TextBox  Margin="10,3,10,3" materialDesign:HintAssist.Hint="Địa chỉ" 
                                              Text="{Binding SelectedReexamination.BENHNHAN.DiaChi}"
                                              IsEnabled="False" Style="{StaticResource MaterialDesignFloatingHintTextBox}" />
                                    <TextBox  Margin="10,3,10,3" materialDesign:HintAssist.Hint="Số điện thoại" 
                                              Text="{Binding SelectedReexamination.BENHNHAN.SoDienThoai}"
                                              IsEnabled="False" Style="{StaticResource MaterialDesignFloatingHintTextBox}" />
                                    <DatePicker  Margin="10,3,10,3" materialDesign:HintAssist.Hint="Ngày khám" 
                                                 SelectedDate="{Binding SelectedReexamination.NgayKham}"
                                                 IsEnabled="False" Style="{StaticResource MaterialDesignFloatingHintDatePicker}" />
                                    <TextBox  Margin="10,3,10,3" materialDesign:HintAssist.Hint="Chẩn đoán" 
                                              Text="{Binding SelectedReexamination.LOAIBENH.TenLoaiBenh}"
                                              IsEnabled="False" Style="{StaticResource MaterialDesignFloatingHintTextBox}" />
                                    <DatePicker  Name="ReexaminationDateUpdated_DatePicker" Margin="10,3,10,3" materialDesign:HintAssist.Hint="Ngày tái khám" 
                                                 SelectedDate="{Binding ReexaminationDateUpdate, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay, StringFormat='{}{0:dd/MM/yyyy}'}"
                                                 Style="{StaticResource MaterialDesignFloatingHintDatePicker}" />

                                </StackPanel>
                                <ToggleButton x:Name="UpdateReexamination_Button" Width="50" Height="50" Margin="0,20,0,0"
                                              Style="{StaticResource MaterialDesignActionToggleButton}"
                                              ToolTip="Sửa"
                                              Command="{Binding UpdateReexaminationDateCommand}" CommandParameter="{Binding ElementName=ReexaminationDateUpdated_DatePicker}"
                                              materialDesign:ShadowAssist.ShadowDepth="Depth3">
                                    <ToggleButton.Content>
                                        <materialDesign:PackIcon Kind="Tick" Width="30" Height="30"></materialDesign:PackIcon>
                                    </ToggleButton.Content>
                                </ToggleButton>


                            </StackPanel>

                        </Grid>
                    </Grid>
                </TabItem>
            </TabControl>
        </Grid>
    </Grid>
</Window>
